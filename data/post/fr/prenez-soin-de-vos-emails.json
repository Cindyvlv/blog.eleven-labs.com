{"date":"2017-06-01T00:00:00.000Z","title":"Prenez soin de vos emails","excerpt":"Le moyen de communication le plus répandu entre un prestataire et son client, c'est l'email. Pourtant, peu de gens prennent soin de les personnaliser. C'est dommage, car il existe de nombreux tips sympas qui permettent de les rendre plus qualitatifs. Bien sûr, tout cela passe par Google... mais qui n'utilise pas Gmail aujourd'hui ?","readingTime":"6mn","authors":["captainjojo"],"categories":["javascript"],"content":"\nLe moyen de communication le plus répandu entre un prestataire et son client, c'est l'email. Pourtant, peu de gens prennent soin de les personnaliser. C'est dommage, car il existe de nombreux tips sympas qui permettent de les rendre plus qualitatifs. Bien sûr, tout cela passe par Google... mais qui n'utilise pas Gmail aujourd'hui ?\n\n### À quoi cela ressemble-t-il ?\n\nVous avez dû le voir dans votre boite Gmail, dans certains cas, vos mails ont un affichage différent ou même un bouton en plus (un \"call-to-action\").\n\n![](/imgs/posts/2017-06-01-prenez-soin-de-vos-emails/capture-decran-2017-05-30-a-20.20.36.png)\n\n> Exemple: Réservation d'un événement\n\n![](/imgs/posts/2017-06-01-prenez-soin-de-vos-emails/capture-decran-2017-05-30-a-20.26.14.png)\n\n> Exemple: Votre prochain voyage\n\n![](/imgs/posts/2017-06-01-prenez-soin-de-vos-emails/capture-decran-2017-05-30-a-20.29.24.png)\n\n> Exemple: Un call-to-action\n\n### Comment ça marche ?\n\nLa seule façon de communiquer avec votre boite mail et en particulier Gmail ou Inbox c'est l'HTML. Pour ajouter les informations complémentaires afin que Gmail comprenne ce que vous voulez, il faut ajouter un *[schema.org](http://schema.org/)*. Eh oui, c'est aussi simple que cela, comme pour améliorer votre [seo](https://developers.google.com/search/docs/guides/){:rel=\"nofollow noreferrer\"}, Google utilise schema.org.\n\n### Comment tester ?\n\nOn le sait tous, développer des mails, ce n'est pas ce qui est le plus simple. Mettre en place un environnement de développement peut s'avérer très galère et assez long. Mais pas d'inquiétude, Google y a pensé !\n\nIl suffit de se rendre sur [https://script.google.com](https://script.google.com){:rel=\"nofollow noreferrer\"} et de mettre le script suivant dans le fichier Code.gs\n\n```javascript\nfunction testSchemas() {\n  var htmlBody = HtmlService.createHtmlOutputFromFile('NOM DU TEMPLATE').getContent();\n\n  MailApp.sendEmail({\n    to: Session.getActiveUser().getEmail(),\n    subject: 'TEST MAIL',\n    htmlBody: htmlBody,\n  });\n}\n```\n\nPuis d'ajouter un fichier ```NOM DU TEMPLATE``` contenant l'html de votre email.\n\n```html\n<html>\n  <body>\n    <p>\n      Votre email\n    </p>\n  </body>\n</html>\n```\n\nMaintenant si vous \"runnez\" votre script, Google va vous demander le droit de vous envoyer un email et vous allez le recevoir.\n\n### Développer les exemples\n\n#### Réservation d'un événement\n\n```html\n<html>\n  <body>\n    <script type=\"application/ld+json\">\n    {\n      \"@context\":             \"http://schema.org\",\n      \"@type\":                \"EventReservation\",\n      \"reservationNumber\":    \"NUMERO DE RESA\",\n      \"underName\": \"CaptainJojo\",\n      \"reservationFor\": {\n        \"@type\": \"Event\",\n        \"name\":               \"VOTRE EVENEMENT\",\n        \"startDate\":          \"2017-05-30T20:30:00-00:00\",\n        \"location\":           \"15 Avenue de la Grande-Armée, 75016 Paris\"\n      }\n    }\n  </script>\n    <p>\n      Votre email\n    </p>\n  </body>\n</html>\n```\n\n#### Votre prochain voyage\n\n```html\n<html>\n  <body>\n     <script type=\"application/ld+json\">\n    {\n      \"@context\": \"http://schema.org\",\n      \"@type\": \"FlightReservation\",\n      \"reservationNumber\": \"NUMERO DE RESERVATION\",\n      \"reservationStatus\": \"http://schema.org/Confirmed\",\n      \"underName\": {\n        \"@type\": \"Person\",\n        \"name\": \"CaptainJojo\"\n      },\n      \"reservationFor\": {\n        \"@type\": \"Flight\",\n        \"flightNumber\": \"42\",\n        \"airline\": {\n          \"@type\": \"Airline\",\n          \"name\": \"Air Eleven Labs\",\n          \"iataCode\": \"AEA\"\n        },\n        \"departureAirport\": {\n          \"@type\": \"Airport\",\n          \"name\": \"Symfony\",\n          \"iataCode\": \"SFO\"\n        },\n        \"departureTime\": \"2017-05-30T20:15:00-08:00\",\n        \"arrivalAirport\": {\n          \"@type\": \"Airport\",\n          \"name\": \"NodeJs\",\n          \"iataCode\": \"NJS\"\n        },\n        \"arrivalTime\": \"2017-06-30T06:30:00-05:00\"\n      }\n    }\n  </script>\n    <p>\n      Votre email\n    </p>\n  </body>\n</html>\n```\n\n#### Un call-to-action\n\n```html\n<html>\n  <body>\n    <script type=\"application/ld+json\">\n    {\n      \"@context\": \"http://schema.org\",\n      \"@type\": \"EmailMessage\",\n      \"potentialAction\": {\n        \"@type\": \"ConfirmAction\",\n        \"name\": \"APPROUVER LE MAIL\",\n        \"handler\": {\n          \"@type\": \"HttpActionHandler\",\n          \"url\": \"https://test.fr?id=email\"\n        }\n      },\n      \"description\": \"J'approuve l'email\"\n    }\n  </script>\n    <p>\n      Votre email\n    </p>\n  </body>\n</html>\n```\n\n### En plus fort\n\nComme Google vous connait mieux que vous même, vous pouvez faire des recherches Google qui remonteront les informations contenues dans les schemas.org de vos emails.\n\nJe vous invite à taper *'mes vols', 'mes commandes', 'mes réservations',*  vous serez surpris.\n\n![](/imgs/posts/2017-06-01-prenez-soin-de-vos-emails/capture-decran-2017-05-30-a-21.11.52.png)\n\n![](/imgs/posts/2017-06-01-prenez-soin-de-vos-emails/capture-decran-2017-05-30-a-21.11.11.png)\n\n### Conclusion\n\nDans le monde, plus de 2,5 milliards d'emails sont envoyés chaque année, et c'est certainement le format que vous favorisez pour communiquer avec vos clients. Donc autant faire en sorte qu'ils sortent du lot ! Google propose un grand nombre d'améliorations pour vos mails. Je vous invite à regarder ceci [https://developers.google.com/gmail/markup/](https://developers.google.com/gmail/markup/){:rel=\"nofollow noreferrer\"}, je suis sûr que vous trouverez votre bonheur.\n"}